<!DOCTYPE html>
<html lang="en-us" dir="ltr">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta http-equiv="content-language" content="en-us" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />

  
  
  <title>Using Jamf School Variables in Scripts &middot; CantScript</title>
  <meta name="title" content="Using Jamf School Variables in Scripts &middot; CantScript" />
  

  
  
  <meta name="description" content="Jamf School allows for variable substitution all over the place, just not in Scripts! Learn how to deliver Jamf School variables to devices for use in Scripts" />
  
  <meta name="keywords" content="Scripting, Profiles, Workflows, " />
  <link rel="canonical" href="http://localhost:1313/posts/using-jamf-school-variables-in-scripts/" />

  

  
    
        <link rel="stylesheet" href="/css/theme.css">
    
  
    
        <link rel="stylesheet" href="/css/main.css">
    
  
    
  



  
  
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="CantScript" />
<link rel="manifest" href="/site.webmanifest" />


  

  <meta property="og:url" content="http://localhost:1313/posts/using-jamf-school-variables-in-scripts/">
  <meta property="og:site_name" content="CantScript">
  <meta property="og:title" content="Using Jamf School Variables in Scripts">
  <meta property="og:description" content="Jamf School allows for variable substitution all over the place, just not in Scripts! Learn how to deliver Jamf School variables to devices for use in Scripts">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-05-07T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-05-07T00:00:00+00:00">
    <meta property="article:tag" content="Scripting">
    <meta property="article:tag" content="Profiles">
    <meta property="article:tag" content="Workflows">
    <meta property="og:image" content="http://localhost:1313/posts/using-jamf-school-variables-in-scripts/localvarcover.png">

  
    <meta property="og:image" content="http://localhost:1313/localvarcover.png" />
  
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/posts/using-jamf-school-variables-in-scripts/localvarcover.png">
  <meta name="twitter:title" content="Using Jamf School Variables in Scripts">
  <meta name="twitter:description" content="Jamf School allows for variable substitution all over the place, just not in Scripts! Learn how to deliver Jamf School variables to devices for use in Scripts">

  
    <meta name="twitter:image" content="http://localhost:1313/localvarcover.png" />
  

  
  







  
  
    <script
      defer
      type="text/javascript"
      src="/lib/fuse/fuse.min.1f56d60a7738743270762a2aa4e0a453be99c4476f06f3b2f51f4377d12a7ed973420f76a308d7e4855d88ec34d25940c9015464934faf30e7599fe566d7f6e4.js"
      integrity="sha512-H1bWCnc4dDJwdioqpOCkU76ZxEdvBvOy9R9Dd9EqftlzQg92owjX5IVdiOw00llAyQFUZJNPrzDnWZ/lZtf25A=="
    ></script>
  



  
  


  
  
  
  
  

  
  
  
    <link rel="preload" href="http://localhost:1313/fonts/Ubuntu-Regular.woff2" as="font" type="font/woff2" crossorigin>
  

  

  

  
  <script>
    const siteTheme = "dark";
    let savedTheme = localStorage.getItem('theme') || siteTheme;
    if (savedTheme == 'auto') {
      if ( window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ) {
        savedTheme = 'dark';
      }
    }
    if (savedTheme === "dark") {
      document.documentElement.classList.add('dark');
      localStorage.setItem('theme', 'dark');
    }
  </script>
  
  

<script src="https://cdn.counter.dev/script.js" data-id="4f40f3ac-7039-4087-b21a-96d3879a1fdc" data-utcoffset="1"></script>
  
</head>

  <body>
    <div class="content">
      <header>
    
    <a class="title" href="/">
      
      















  
  
  
    
  

  
    <img loading="" 

    
      
        
        
        
          
          
          
            src="/img/CantScript_LogoOnlyv3_hu_8dd51e941f19ba6f.png"
          
        
      
    
      alt="Site Logo" />
  




    </a>
    
    <div class="header-cntr">
    <a class="title" href="/">
    <span>CantScript</span>
    </a>
  <div class="menu">
  <nav id="main-menu" class="mm-normal">
    <ul>
    <li> <button id="mob-x-icon" class="menu-btn" arial-label="x-icon"> 

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>


 </button> </li>
    
      <li><a href="/posts/" aria-label="posts">
      Posts</li></a>
    
      <li><a href="/about/" aria-label="about">
      About</li></a>
    
      <li><a href="/more/" aria-label="more">
      More</li></a>
    
      <li><a href="https://github.com/cantscript" aria-label="github">
      
        <span>
          

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>



        </span>
          </li></a>
    
      <li><a href="https://www.linkedin.com/in/anthony-darlow-a795b294/" aria-label="linkedin">
      
        <span>
          

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>



        </span>
          </li></a>
    
      <li><a href="https://macadmins.slack.com/team/UA73QAKJL" aria-label="slack">
      
        <span>
          

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg>



        </span>
          </li></a>
    
    </ul>
  </nav>
    <div class="side-menu">
    
<button id="search-open" class="menu-btn" aria-label="Search button">
  

    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>



</button>

<div id="search-container" data-url="http://localhost:1313/">
  <div class="search">
    <div class="panel">
      <form>
        

    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>



        <input type="search" id="search-query" placeholder="Search" tabindex=0 autocomplete="off"/>
        <button id="search-close" title="Cancel (ESC)">
          

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>



        </button>
      </form>
    </div>
    <ul id="search-results">
      
      
      
      
      
      
      
      
      
      
    </ul>
    <div id="search-overlay"></div>
  </div>
</div>

    
    <button id="theme-switcher" class="menu-btn" aria-label="Theme switcher">
      <div id="moon">
      

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>



      </div>
      <div id="sun">
      

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>



      </div>
    </button>
    
    </div>
    <button id="mob-hb-icon" class="menu-btn" aria-label="Hamburger icon">
      

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>



    </button>
  </div>
  <script>
  (function() {
    document.addEventListener('DOMContentLoaded', function() {
    const openBtn = document.getElementById('mob-hb-icon');
    const closeBtn = document.getElementById('mob-x-icon');
    const mainMenu = document.getElementById('main-menu');
    const body = document.body;

    openBtn.addEventListener('click', function() {
        mainMenu.classList.replace('mm-normal', 'mm-mobile-open');
        closeBtn.style.display = 'block';
        body.style.overflow = 'hidden';
    });
    closeBtn.addEventListener('click', function() {
        mainMenu.classList.replace('mm-mobile-open', 'mm-normal');
        closeBtn.style.display = 'none';
        body.style.overflow = '';
    });
    })
  })();
  </script>
  
  <script>
  (function() {
    var mainmenu = document.getElementById('main-menu');
    if (!mainmenu) return;

    var path = window.location.pathname;
    var links = mainmenu.querySelectorAll('a');

    links.forEach(function(link) {
      if (link.getAttribute('href') === path) {
        link.classList.add('active');
      }
    });
  })();
  </script>
  
</div>
</header>

      <main>
        



  
  















  
  
  

  
    <img loading="eager" class="cover-img"

    
      
        src="/posts/using-jamf-school-variables-in-scripts/localvarcover.png"
      
    
      alt="Cover Image" />
  









<ul class="breadcrumbs">
  <li><a href="http://localhost:1313/">

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>


</a></li>
  
    
    
      <li><a href="http://localhost:1313/posts/">Posts</a></li>
    
    
  
    
  
</ul>



<h1 class="pg-title">Using Jamf School Variables in Scripts</h1>


<div class="meta">
  



<p>


  
  
  <span class="meta-icon">

    <?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg fill="currentColor" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A3,3,0,0,0,2,7V19a3,3,0,0,0,3,3H19a3,3,0,0,0,3-3V7A3,3,0,0,0,19,4Zm1,15a1,1,0,0,1-1,1H5a1,1,0,0,1-1-1V12H20Zm0-9H4V7A1,1,0,0,1,5,6H7V7A1,1,0,0,0,9,7V6h6V7a1,1,0,0,0,2,0V6h2a1,1,0,0,1,1,1Z"/></svg>


</span>
  Posted on <time datetime="2025-05-07T00:00:00&#43;00:00">May 7, 2025</time>
  
  
  


  <span class="meta-icon">

    <?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="800px" height="800px" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM3.00683 12C3.00683 16.9668 7.03321 20.9932 12 20.9932C16.9668 20.9932 20.9932 16.9668 20.9932 12C20.9932 7.03321 16.9668 3.00683 12 3.00683C7.03321 3.00683 3.00683 7.03321 3.00683 12Z" fill="currentColor"/>
<path d="M12 5C11.4477 5 11 5.44771 11 6V12.4667C11 12.4667 11 12.7274 11.1267 12.9235C11.2115 13.0898 11.3437 13.2343 11.5174 13.3346L16.1372 16.0019C16.6155 16.278 17.2271 16.1141 17.5032 15.6358C17.7793 15.1575 17.6155 14.5459 17.1372 14.2698L13 11.8812V6C13 5.44772 12.5523 5 12 5Z" fill="currentColor"/>
</svg>


</span>
  
    13 mins
  


</p>

  


<p>
  <span class="meta-icon"> 

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M48 32H197.5C214.5 32 230.7 38.74 242.7 50.75L418.7 226.7C443.7 251.7 443.7 292.3 418.7 317.3L285.3 450.7C260.3 475.7 219.7 475.7 194.7 450.7L18.75 274.7C6.743 262.7 0 246.5 0 229.5V80C0 53.49 21.49 32 48 32L48 32zM112 176C129.7 176 144 161.7 144 144C144 126.3 129.7 112 112 112C94.33 112 80 126.3 80 144C80 161.7 94.33 176 112 176z"/></svg>


 </span>
  
  <a class="tag" href="/tags/scripting/">Scripting</a>
  
  <a class="tag" href="/tags/profiles/">Profiles</a>
  
  <a class="tag" href="/tags/workflows/">Workflows</a>
  
</p>



</div>




  <div class="toc">
    <details >
      <summary accesskey="c" title="(Alt+C)">
        Table of Contents
      </summary>
      <div class="toc-innr">
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#jamf-school-variables">Jamf School Variables</a></li>
        <li><a href="#macos-scripting">macOS Scripting</a></li>
        <li><a href="#using-jamf-school-variable-substitution">Using Jamf School Variable Substitution</a></li>
        <li><a href="#how-to-use-jamf-school-variables-in-scripts">How to use Jamf School Variables in Scripts</a></li>
        <li><a href="#step-1-creating-a-custom-profile">Step 1: Creating a Custom Profile</a></li>
        <li><a href="#step-2-deploy-custom-profile-with-jamf-school">Step 2: Deploy Custom Profile with Jamf School</a></li>
        <li><a href="#step-3-read-profile-values-in-a-script">Step 3: Read Profile Values in a Script</a></li>
        <li><a href="#one-last-thing">One Last Thing</a></li>
        <li><a href="#further-reading">Further Reading</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    </details>
  </div>
  



<p>If you are a Jamf School Admin theres a good chance that you&rsquo;ve used variables in your deployment.</p>
<p>Variables are super useful to an Admin as they provide a way to create configurations that requires unique values without having to create many (10&rsquo;s, 100&rsquo;s, 1000&rsquo;s depending on your deployment) individual items for each unique values. The format for variables in Jamf School is <code>%Variable%</code> and there are many different variables that can be substituted. You can find a full list in the <a href="https://learn.jamf.com/en-US/bundle/jamf-school-documentation/page/Payload_Variables.html" target="_blank">documentation</a>
</p>
<p>Variables can be used in a number of places within the Jamf School console, not just in Profile payloads.</p>

<h3 id="jamf-school-variables">
  Jamf School Variables
  
</h3>
<p>Popular use cases for variables are for naming devices (using <code>%ProductName% - %SerialNumber%</code> will change the devices display name with a prefix of the device type with the individual devices serial number after) and creating custom iOS wallpapers which display the owners name. For example creating a wallpaper payload where the image is a schools colours and logo and then adding text on top of this. Using <code>%FullNames%'s iPad</code> would then display the full name of the user assigned to the device. You can actually use variable&rsquo;s to generate an QR code on the wallpaper which, once scanned, will take you directly to that device record in the console.</p>
<div style="text-align: center;">
    <img src="console_wallpapervar.png" alt="Wallpaper Payload in Jamf School Console" style="max-width: 80%; height: auto;">
</div>
<p>Depending on the variable that you are using they are also dynamic. Lets take the name of the device again, only this time we use <code>%FullName%'s %ProductName%</code> and the device&rsquo;s owner is Alice. The devices name would be <code>Alice's MacBook Pro</code>. If we were then to give that device to Bob and assign him as the owner, upon next check in the devices name would change to <code>Bob's MacBook Pro</code>. All without the admin needing to rename the device manually.</p>
<p>Variables are very powerful when used correctly and can be key when in workflows or automations. Its all about working smarter not harder.</p>

<h3 id="macos-scripting">
  macOS Scripting
  
</h3>
<p>As mentioned above variables can be used in various places in the console, not just in the Profile payloads section. They work across all supported platforms, iOS, iPadOS, macOS &amp; tvOS, and if you are supporting macOS you might have tried to use these Jamf School variables in your scripts only to find this is about the one place they are not supported!</p>
<p>There are many reasons that one might what to use the Jamf School variables in a script, as I always say when it comes to scripting you are limited only by your imagination but Im sure you could think up some times where it would be useful to have information stored in Jamf School variables available in a script. Even if its simply who is the current owner, which of course doesn&rsquo;t always equal the name of the user account currently signed in or if you use Locations in Jamf School, which location is the device assigned to.</p>
<p>However adding <code>%Username%</code> to a script wont result in Jamf School substituting that value with in your script. It&rsquo;ll stay is <code>%Username%</code> and give you a result that you didn&rsquo;t intend.</p>
<p>So, if Jamf School variables can be so useful, how can we use them within our scripts? The answer is, make them available locally on the device.</p>

<h3 id="using-jamf-school-variable-substitution">
  Using Jamf School Variable Substitution
  
</h3>
<p>At the risk of teaching people to suck eggs, lets quickly look at what happens when we use variable substitution in the Jamf School Console. After all, for every admin out there that has been doing this for years, theres another who only just started managing devices.</p>
<p>Essentially, when you use a <code>%variable%</code> you are saying I want to use a value that is yet to be determined, the <code>%variable%</code> is just a placeholder. Depending on which variable you use, Jamf School will then add the &ldquo;real&rdquo; value when creating the configuration.</p>
<p>Lets take an example of a profile that asks an admin to provide the users email address as part of the configuration. At this point the Admin has no idea who the user will be, it could be 100&rsquo;s of possibilities. So instead they use the value of <code>%Email%</code>.</p>
<div style="text-align: center;">
    <img src="console_emailvar.png" alt="Email Payload in Jamf School Console" style="max-width: 60%; height: auto;">
</div>
<p>Since Jamf School also knows about users in the system and their relationship with devices, when it delivers the profile to the device it says</p>
<p><em>&ldquo;Okay I need to replace <code>%Email%</code> with the real value. I can see that this devices owner is Ant Darlow, I will look up that users record stored in my system and find his email value, which is <a href="mailto:ant@email.com">ant@email.com</a>
. Now I will write this real value into the profile&rdquo;</em></p>
<p>The same is the case with any of the available variables in the console, think <code>%SerialNumber%</code> or <code>%uuid%</code>, these are values that Jamf School already store about the device and can be substituted in place of the <code>%variable%</code> placeholder.</p>
<div style="text-align: center;">
    <img src="console_devicename.png" alt="Naming A Device with Variables in Jamf School Console" style="max-width: 60%; height: auto;">
</div>
<p>Without the variable an admin would need to create a unique profile for each and every user and hardcode the real value into each one. Variables allow for this &ldquo;configure once, use for all&rdquo; type of workflow.</p>

  


<div class="callout"
  
>
<span class="icon"

>


    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"/></svg>



</span>
<span class="txt"

>
Its worth noting that if a &ldquo;real&rdquo; value is not available Jamf School configurations will still show the <code>%variable%</code> placeholder. For example, if you name the device with <code>%FullName%</code> and the device does not have an owner, the device will be called <em>FullName</em>, until the point is does have an owner assigned
</span>
</div>


<h3 id="how-to-use-jamf-school-variables-in-scripts">
  How to use Jamf School Variables in Scripts
  
</h3>
<p>Thats all very well and good but you might be thinking, <em>&ldquo;how does that help me use these Jamf School variables in scripts&rdquo;</em>. The answer it two fold and using the fact that Jamf School will substitute these variables for real values when creating configurations&hellip;.configurations such as Profiles.</p>
<p>Once we have a profile, that contains these &ldquo;real&rdquo; values, on the device, its basically a preference file. With a script we can read information from preference files or in our case our custom profile!.</p>
<p>I&rsquo;ll walk you through the steps as we go along but as an overview</p>
<ol>
<li>Create a custom profile containing variables you might need or want to us in a script <br></li>
<li>Deploy custom profile with Jamf School <br></li>
<li>Create a script (or edit one you have) that reads the values in the custom profile <br></li>
<li>Win at admin-ing and drink coffee</li>
</ol>
<p>To follow along you&rsquo;ll need a way of creating a Profile. This could be something generic like <a href="https://www.barebones.com/products/bbedit/" target="_blank">BBEdit</a>
 or <a href="https://coderunnerapp.com" target="_blank">Coderunner</a>
 or something most specific to creating preferences such as <a href="https://www.fatcatsoftware.com/plisteditpro/" target="_blank">PlistEdit Pro</a>
.</p>
<p>There are also an <a href="https://github.com/cantscript/LocalJamfSchoolVariables/blob/main/LocalJamfSchoolDetails.mobileconfig" target="_blank">example profile</a>
 over on my <a href="https://github.com/cantscript/LocalJamfSchoolVariables/tree/main" target="_blank">GitHub</a>
.</p>

<h3 id="step-1-creating-a-custom-profile">
  Step 1: Creating a Custom Profile
  
</h3>
<p>The First step is finding out the Jamf School variables available to you and choosing which ones you are going to need or want within your scripts, a full list can be found in the <a href="https://learn.jamf.com/en-US/bundle/jamf-school-documentation/page/Payload_Variables.html" target="_blank">documentation</a>
</p>
<p>Once you have choosen the values you will need to add them to the profile as a key / value pair.</p>








  
  
  
    
  
  
  
  
  
  
  <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>			<span style="color:#f92672">&lt;key&gt;</span>AssetTag<span style="color:#f92672">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;string&gt;</span>%AssetTag%<span style="color:#f92672">&lt;/string&gt;</span>
</span></span></code></pre></div>


<p>The <code>key</code> tag is the name for the value and its important that we keep these names sensible and to the point as its these keys we will be reading in our script but they can by anything. You will thank yourself in the future if you keep them simple and concise , I promise.</p>
<p>As for the <code>value</code> you will see that I have added the Jamf School variable (in the above example <code>%AssetTag%</code>. Remember the placeholder will be substituted for the &ldquo;real&rdquo; value once deployed by Jamf School, it doesn&rsquo;t matter that you aren&rsquo;t creating the profile in Jamf School. However, if you were to upload this to another MDM the chances are almost certainly zero that any substitution will happen. Maybe that MDM doesn&rsquo;t use variables at all or uses a different syntax (for example Jamf Pro uses <code>$variable$</code>, opting for <code>$</code> instead of <code>%</code>)</p>
<p>If this is the first time you&rsquo;ve ever created a profile manually to upload to Jamf School (or any other MDM for that matter) I highly suggest you take my <a href="https://github.com/cantscript/LocalJamfSchoolVariables/blob/main/LocalJamfSchoolDetails.mobileconfig" target="_blank">example profile</a>
 and edit that as required, rather from starting from scratch.</p>
<p>There are a few values that you might want to change from the example</p>
<p><code>PayloadType</code> <br>
This is the preference domain that the profile will create and you will read the data from in your scripts. Again this can be anything you like but is usually a reverse domain. If you require to use you own preference domain be sure to change this but for the following examples I will assume the example default is bring used.</p>
<p><code>PayloadOrganization</code> <br>
At both the top level and within the <code>PayloadContent</code>. You may want to change this you match your organisational name</p>
<p><code>PayloadDisplayName</code> <br>
At both the top level and within the <code>PayloadContent</code>. The name displayed for the profile / payload in the system settings of macOS</p>
<p><code>PayloadDescription</code> <br>
The description displayed for the profile in the system settings of macOS</p>
<p>Finally, if you have are comfortable with creating and editing a <code>plist</code>, you could instead create a plist and save it with the preferred preference domain (following the example it would be <code>com.cantscript.localUserInfo</code>) and upload it to Jamf School as shown in the next step. Jamf School will wrap the plist into a profile once uploaded / deployed.</p>

<h3 id="step-2-deploy-custom-profile-with-jamf-school">
  Step 2: Deploy Custom Profile with Jamf School
  
</h3>
<p>With you custom profile prepared and saved, the next step is to upload it and deploy it with Jamf School. This is a fairly easy process but if you&rsquo;ve never need to do this before, navigate to</p>
<ol>
<li><code>Profiles</code> -&gt; <code>Configuration Profiles</code> and click <code>+ Create Profile</code></li>
<li>Choose <code>Upload custom profile</code></li>
<li>Navigate to the Custom Profile on your machine and drag to the Jamf School window</li>
<li>Once uploaded click <code>next</code></li>
<li>Add a <code>Profile Name</code> (and a <code>Description</code>, as required) and click <code>Next</code></li>
<li>Click <code>Finish</code> on the next page</li>
<li>Click <code>Save</code></li>
</ol>
<p>You custom profile is now ready to be deployed. This can be done in a few ways with Jamf School, use your regular scoping methods to deploy to your target device(s) when ready (<em>you should only deploy to your test device for now</em>).</p>

  


<div class="callout"
  
>
<span class="icon"

>


    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"/></svg>



</span>
<span class="txt"

>
If you have used any of the user variables in your profile, you should consider scoping the profile only once the device has an owner assigned using smart groups. Otherwise the values will not be substituted and even if a owner is assigned after the fact the profile will need <code>reinstalled</code>
</span>
</div>

<p>On a test device you can verify that the profile has installed and that the <code>%variables%</code> have been replaced with the &ldquo;real&rdquo; values that are stored in Jamf School</p>
<div style="text-align: center;">
    <img src="device_profilecheck.png" alt="Checking Variables in Profile on macOS Device" style="max-width: 60%; height: auto;">
</div>

<h3 id="step-3-read-profile-values-in-a-script">
  Step 3: Read Profile Values in a Script
  
</h3>
<p>There are 2 ways that I know to read profile values within a bash script and I suspect there are more. The first is to use <code>plistbuddy</code>. A function can be written which enables you to read a specific key from the plist, offer a default value (if the key isn&rsquo;t there) and store it an a variable. <a href="https://github.com/txhaflaire" target="_blank">Thijs Xhaflaire</a>
 uses this method in his <a href="https://github.com/txhaflaire/DiskEncrypter" target="_blank">DiskEncrypter</a>
 project. <br>
An example of this function is</p>








  
  
  
    
  
  
  
  
  
  
  <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>managedPlist<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/Library/Managed Preferences/com.cantscript.localUserInfo.plist&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>readPref<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># $1: key</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># $2: default (optional)</span>
</span></span><span style="display:flex;"><span>	local key<span style="color:#f92672">=</span>$1
</span></span><span style="display:flex;"><span>	local defaultValue<span style="color:#f92672">=</span>$2
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> ! value<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span> /usr/libexec/PlistBuddy -c <span style="color:#e6db74">&#34;Print :</span>$key<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span>$managedPlist<span style="color:#e6db74">&#34;</span> 2&gt;/dev/null <span style="color:#66d9ef">)</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>		value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$defaultValue<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>	echo <span style="color:#e6db74">&#34;</span>$value<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div>


<p>And the usage to store the result to a variable within the script would be as below; where <code>AssetTag</code> would be the key we are looking for and <code>&quot;no data&quot;</code> would be the default value if there was no <code>AssetTag</code> key</p>








  
  
  
    
  
  
  
  
  
  
  <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>schoolAssetTag1<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span> readPref assestTag <span style="color:#e6db74">&#34;no data&#34;</span><span style="color:#66d9ef">)</span>
</span></span></code></pre></div>


<p>The second way I was shown by <a href="https://github.com/scriptingosx" target="_blank">Armin Briegel</a>
 aka <a href="https://scriptingosx.com/about/" target="_blank">scriptingosx</a>
. This method is more robust as it reads key values for the preference domain, no matter where the plist(s) are located and these locations are numerous. Its a little outside of the scope of this blog but there could be a plist <code>com.example.plist</code> in <code>/Library/Preferences</code>, <code>~/Library/Preferences</code> and <code>/Library/Managed Preferences</code>. There is then a hierarchy in which preference level takes precedence, however Configuration Profiles (<code>/Library/Managed Preferences</code>) overrule everything else.</p>
<p>This method will read key values across the all possible preference locations and take the hierarchy into account when providing the result (this is different to method 1 which is read a specific plist in a specific location)</p>
<p>Although this method is slightly different, for our use case here the results are  largely the same with both. The method of reading the preference and key is once again wrapped into a function</p>








  
  
  
    
  
  
  
  
  
  
  <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>MANAGED_PREFERENCE_DOMAIN<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;com.cantscript.localUserInfo&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>getPref<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> <span style="color:#75715e"># $1: key, $2: default value, $3: domain</span>
</span></span><span style="display:flex;"><span>	local key<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>1:?<span style="color:#e6db74">&#34;key required&#34;</span><span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>	local defaultValue<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>2-:<span style="color:#e6db74">&#34;&#34;</span><span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>	local domain<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>3<span style="color:#66d9ef">:-</span><span style="color:#e6db74">&#34;</span>$MANAGED_PREFERENCE_DOMAIN<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	value<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>osascript -l JavaScript <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>		-e <span style="color:#e6db74">&#34;</span>$<span style="color:#e6db74">.NSUserDefaults.alloc.initWithSuiteName(&#39;</span>$domain<span style="color:#e6db74">&#39;).objectForKey(&#39;</span>$key<span style="color:#e6db74">&#39;).js&#34;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> -n $value <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>		echo $value
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>		echo $defaultValue
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div>


<p>Given the above, there is also a function that can check if the key is set and locked with a profile. Again, outside of our use case here but this can be used to ensure that the key value you are reading is from a profile and not elsewhere. I&rsquo;ve used this in other projects to there is no profile installed and exit the workflow</p>








  
  
  
    
  
  
  
  
  
  
  <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>getPrefIsManaged<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> <span style="color:#75715e"># $1: key, $2: domain</span>
</span></span><span style="display:flex;"><span>	local key<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>1:?<span style="color:#e6db74">&#34;key required&#34;</span><span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>	local domain<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>2<span style="color:#66d9ef">:-</span><span style="color:#e6db74">&#34;</span>$MANAGED_PREFERENCE_DOMAIN<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	osascript -l JavaScript -e <span style="color:#e6db74">&#34;</span>$<span style="color:#e6db74">.NSUserDefaults.alloc.initWithSuiteName(&#39;</span>$domain<span style="color:#e6db74">&#39;).objectIsForcedForKey(&#39;</span>$key<span style="color:#e6db74">&#39;)&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div>


<p>The usage to store the result to a variable within the script would be as below; where <code>AssetTag</code> would be the key we are looking for and <code>&quot;no data&quot;</code> would be the default value if there was no <code>AssetTag</code> key</p>








  
  
  
    
  
  
  
  
  
  
  <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>schoolAssetTag2<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>getPref assestTag <span style="color:#e6db74">&#34;no data&#34;</span><span style="color:#66d9ef">)</span>
</span></span></code></pre></div>


<p>Now this is where I leave the hard work to you. How, what or why you need or want to use these variables is completely dependant on you and your environment (and even imagination). I&rsquo;ve given an <a href="https://github.com/cantscript/LocalJamfSchoolVariables/blob/main/ExampleScriptReadingPrefs.sh" target="_blank">example script</a>
 which simply uses <a href="https://github.com/swiftDialog/swiftDialog" target="_blank">SwiftDialog</a>
 to display the information, thus showing I am &ldquo;accessing&rdquo; those Jamf School variables in a script (the script can be ran from Jamf School using the scripting module) even if in reality this example is nothing more than &ldquo;show and tell&rdquo;.</p>
<div style="text-align: center;">
    <img src="dialog_example.png" alt="swiftDialog Example" style="max-width: 60%; height: auto;">
</div>

<h3 id="one-last-thing">
  One Last Thing
  
</h3>
<p>Since we now know how to read key / values from a profile. If you are also using Jamf Student or Teacher Jamf School sends an additional profile to macOS device automatically. This profile contains some information to configure the app so that you don&rsquo;t have to manually log in, for example.</p>
<div style="text-align: center;">
    <img src="device_selfserviceconfig.png" alt="Additional Profiles in System Settings on macOS" style="max-width: 50%; height: auto;">
</div>
<p>If you take a look in the system settings you can see the key / values it provides. Some of these are the same as you may have in your custom profile (which means you might not even need to create a custom profile, depending on your needs!) but has the additional keys of <code>isTeacher</code> (which can be <code>true</code> or <code>false</code>) and <code>photo</code> (with a value that is a URL to the stored picture in your Jamf School instance).</p>
<p>So if you use photos to attached you users in your deployment you now has access to personalise notifications (like my swiftDialog example) with the owners photo too.</p>
<div style="text-align: center;">
    <img src="dialog_advanced.png" alt="swiftDialog Example with Additional values from a Second Profile" style="max-width: 60%; height: auto;">
</div>
<p>The managed preference domain for this is <code>com.zuludesk.macos.selfservice.plist</code> and managed preference in general (incase you what to read some other profile some time) are located in <code>/Library/Managed Preferences</code></p>
<p>I have also included an <a href="https://github.com/cantscript/LocalJamfSchoolVariables/blob/main/ExampleScriptReadingPrefs_Advanced.sh" target="_blank">altered script</a>
 over at <a href="https://github.com/cantscript/LocalJamfSchoolVariables/tree/main" target="_blank">GitHub</a>
 that contains this additional logic to use the photo and add a teacher or student app icon depending on if result of the <code>isTeacher</code> key.</p>

<h3 id="further-reading">
  Further Reading
  
</h3>
<p>If this is your first time diving into profile and plist creation but its sparked an interest, here are a few things you might want to check out</p>
<p><span class="icon">
  

    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path fill="currentColor" d="M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"/></svg>


</span>
 <a href="https://boberito.medium.com/config-profile-and-manage-all-the-things-just-about-cafea8627d4b" target="_blank">Config Profile and manage ALL the things…just about</a>
 by Bob Gendler <br>
<span class="icon">
  

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>



</span>
 <a href="https://github.com/scriptingosx/swift-prefs" target="_blank">swift-prefs</a>
 by scriptingosx</p>











<nav class="pagenav">
  
    <a class="prev" href="/posts/automatically-updating-vpp-apps/">
      <span class="direction">« Prev</span>
      <br>
      <span> Automatically Updating VPP Apps </span>
    </a>
  
  
    <a class="next" href="/posts/so...i-decided-to-make-a-blog/">
      <span class="direction">Next »</span>
      <br>
      <span> So...I decided to make a blog </span>
    </a>
  
</nav>








      </main>
      <footer>
  <div class="copyright">
     © 2025  Anthony Darlow 
  </div>
  
  <div class="attribution">
    Built with <a href="https://gohugo.io" target="_blank">Hugo</a> & <a href="https://github.com/mnjm/kayal" target="_blank">Kayal</a>
  </div>
  
  
  <div>Last update Jul 22, 2025</div>
  
</footer>

    </div>
    


  



  



  
    
        <script src="/js/theme.js"></script>
      
    
  

  
    
        <script src="/js/codecopy.js"></script>
      
    
  

  
    
        <script src="/js/search.js"></script>
      
    
  


  </body>
</html>
